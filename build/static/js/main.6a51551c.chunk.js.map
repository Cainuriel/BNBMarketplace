{"version":3,"sources":["components/Content/MintNFT/MintForm.js","store/web3-context.js","store/collection-context.js","store/Web3Provider.js","store/CollectionProvider.js","store/marketplace-context.js","store/MarketplaceProvider.js","connection/web3.js","helpers/utils.js","components/Layout/Navbar.js","img/bnb.png","components/Content/NFTCollection/NFTCollection.js","components/Layout/Spinner.js","img/logo2.PNG","components/Content/Main.js","App.js","index.js"],"names":["ipfs","require","create","host","port","protocol","MintForm","useState","enteredName","setEnteredName","descriptionIsValid","setDescriptionIsValid","enteredDescription","setEnteredDescription","nameIsValid","setNameIsValid","enteredRarity","setEnteredRarity","rarityIsValid","setRarityIsValid","enteredFiletype","setEnteredFiletype","FiletypeIsValid","setFiletypeIsValid","capturedFileBuffer","setCapturedFileBuffer","fileIsValid","setFileIsValid","web3Ctx","useContext","Web3Context","collectionCtx","CollectionContext","nameClass","descriptionClass","rarityClass","fileTypeClass","fileClass","fileClass2","onSubmit","event","preventDefault","formIsValid","mintNFT","a","add","fileAdded","console","error","metadata","title","type","properties","name","description","rarity","filetype","image","path","video","JSON","stringify","metadataAdded","contract","methods","safeMint","send","from","account","on","hash","setNftIsLoading","e","window","alert","className","placeholder","value","onChange","target","file","files","reader","FileReader","readAsArrayBuffer","onloadend","Buffer","result","React","createContext","networkId","loadAccount","loadNetworkId","totalSupply","collection","nftIsLoading","loadContract","loadTotalSupply","loadCollection","updateTotalSupply","updateCollection","updateOwner","defaultWeb3State","web3Reducer","state","action","Web3Provider","props","useReducer","web3State","dispatchWeb3Action","loadAccountHandler","web3","eth","getAccounts","accounts","loadNetworkIdHandler","net","getId","web3Context","Provider","children","defaultCollectionState","collectionReducer","findIndex","NFT","id","parseInt","index","owner","newOwner","loading","CollectionProvider","CollectionState","dispatchCollectionAction","loadTotalSupplyHandler","call","loadCollectionHandler","i","tokenURIs","fetch","response","ok","Error","json","ownerOf","img","updateCollectionHandler","tokenURI","collectionContext","NFTCollection","deployedNetwork","Contract","abi","address","MarketplaceContext","offerCount","offers","userFunds","mktIsLoading","loadOfferCount","loadOffers","updateOffer","addOffer","loadUserFunds","setMktIsLoading","defaultMarketplaceState","marketplaceReducer","filter","offer","offerId","user","price","fulfilled","cancelled","MarketplaceProvider","MarketplaceState","dispatchMarketplaceAction","loadOfferCountHandler","loadOffersHandler","push","map","loadUserFundsHandler","marketplaceContext","NFTMarketplace","ethereum","Web3","DECIMALS","formatPrice","Math","round","Navbar","etherscanUrl","fundsLoading","setFundsLoading","marketplaceCtx","connectWalletHandler","request","method","events","ClaimFunds","log","class","onClick","claimFunds","role","href","rel","substr","length","nftURL","nft","showImages","priceRefs","useRef","current","Array","fill","_","createRef","buyHandler","buyIndex","fillOffer","cancelHandler","cancelIndex","cancelOffer","key","toFixed","src","alt","width","autoPlay","loop","muted","height","enteredPrice","utils","toWei","approve","options","receipt","makeOffer","makeOfferHandler","step","ref","Spinner","Main","collectionLoaded","logo","App","useEffect","loadBlockchainData","nftDeployedNetwork","networks","nftContract","mktDeployedNetwork","mktContract","Transfer","returnValues","tokenId","to","OfferFilled","Offer","OfferCancelled","chainId","location","reload","showNavbar","showContent","Fragment","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6a51551c.chunk.js","sourcesContent":["import { useState, useContext } from 'react';\nimport '../../../app.css';\nimport Web3Context from '../../../store/web3-context';\nimport CollectionContext from '../../../store/collection-context';\n\nconst ipfsClient = require('ipfs-http-client');\nconst ipfs = ipfsClient.create({ host: 'ipfs.infura.io', port: 5001, protocol: 'https' });\n\nconst MintForm = () => {  \n  const [enteredName, setEnteredName] = useState('');\n  const [descriptionIsValid, setDescriptionIsValid] = useState(true);\n\n  const [enteredDescription, setEnteredDescription] = useState('');\n  const [nameIsValid, setNameIsValid] = useState(true);\n\n  const [enteredRarity, setEnteredRarity] = useState('');\n  const [rarityIsValid, setRarityIsValid] = useState(true);\n\n  const [enteredFiletype, setEnteredFiletype] = useState('');\n  const [FiletypeIsValid, setFiletypeIsValid] = useState(true);\n\n  const [capturedFileBuffer, setCapturedFileBuffer] = useState(null);\n  const [fileIsValid, setFileIsValid] = useState(true);\n\n  const web3Ctx = useContext(Web3Context);\n  const collectionCtx = useContext(CollectionContext);\n\n  const enteredNameHandler = (event) => {\n    setEnteredName(event.target.value);\n  };\n  \n  const enteredDescriptionHandler = (event) => {\n    setEnteredDescription(event.target.value);\n  };\n\n  const enteredRarityHandler = (event) => {\n    setEnteredRarity(event.target.value);\n  };\n\n  const enteredFiletypeHandler = (event) => {\n    setEnteredFiletype(event.target.value);\n  };\n  \n  const captureFile = (event) => {\n    event.preventDefault();\n\n    const file = event.target.files[0];\n\n    const reader = new window.FileReader();\n    reader.readAsArrayBuffer(file);\n    reader.onloadend = () => {\n      setCapturedFileBuffer(Buffer(reader.result));     \n    }\n  };\n\n  const captureFile2 = (event) => {\n    event.preventDefault();\n\n    const file = event.target.files[0];\n\n    const reader = new window.FileReader();\n    reader.readAsArrayBuffer(file);\n    reader.onloadend = () => {\n      setCapturedFileBuffer(Buffer(reader.result));     \n    }\n  }; \n  \n  const submissionHandler = (event) => {\n    event.preventDefault();\n\n    enteredName ? setNameIsValid(true) : setNameIsValid(false);\n    enteredDescription ? setDescriptionIsValid(true) : setDescriptionIsValid(false);\n    enteredRarity ? setRarityIsValid(true) : setRarityIsValid(false);\n    capturedFileBuffer ? setFileIsValid(true) : setFileIsValid(false);\n    enteredFiletype ? setFiletypeIsValid(true) : setFiletypeIsValid(false);\n    const formIsValid = enteredName && enteredDescription && enteredRarity && enteredFiletype && capturedFileBuffer;\n\n    // Upload file to IPFS and push to the blockchain\n    const mintNFT = async() => {\n      // Add file to the IPFS\n      const fileAdded = await ipfs.add(capturedFileBuffer);\n      if(!fileAdded) {\n        console.error('Something went wrong when updloading the file');\n        return;\n      }\n\n      const metadata = {\n        title: \"Asset Metadata\",\n        type: \"object\",\n        properties: {\n          name: {\n            type: \"string\",\n            description: enteredName\n          },\n          description: {\n            type: \"string\",\n            description: enteredDescription\n          },\n          rarity: {\n            type: \"string\",\n            description: enteredRarity\n          },\n          filetype: {\n            type: \"string\",\n            description: enteredFiletype\n          },\n          image: {\n            type: \"string\",\n            description: fileAdded.path\n          },\n          video: {\n            type: \"string\",\n            description: fileAdded.path\n          }\n        }\n      };\n\n      const metadataAdded = await ipfs.add(JSON.stringify(metadata));\n      if(!metadataAdded) {\n        console.error('Something went wrong when updloading the file');\n        return;\n      }\n      \n      collectionCtx.contract.methods.safeMint(metadataAdded.path).send({ from: web3Ctx.account })\n      .on('transactionHash', (hash) => {\n        collectionCtx.setNftIsLoading(true);\n      })\n      .on('error', (e) =>{\n        window.alert('Something went wrong when pushing to the blockchain');\n        collectionCtx.setNftIsLoading(false);  \n      })      \n    };\n\n    formIsValid && mintNFT();\n  };\n\n  const nameClass = nameIsValid? \"form-control\" : \"form-control is-invalid\";\n  const descriptionClass = descriptionIsValid? \"form-control\" : \"form-control is-invalid\";\n  const rarityClass = rarityIsValid? \"form-control\" : \"form-control is-invalid\";\n  const fileTypeClass = FiletypeIsValid? \"form-control\" : \"form-control is-invalid\";\n  const fileClass = fileIsValid? \"form-control\" : \"form-control is-invalid\";\n  const fileClass2 = fileIsValid? \"form-control\" : \"form-control is-invalid\";\n  \n  return(\n    <form onSubmit={submissionHandler}>\n      <div className=\"row justify-content-center\">\n        <div className=\"col-md-2\">\n          <input\n            type='text'\n            className={`${nameClass} mb-1`}\n            placeholder='Nombre del NFT...'\n            value={enteredName}\n            onChange={enteredNameHandler}\n          />\n        </div>\n        <div className=\"col-md-6\">\n          <input\n            type='text'\n            className={`${descriptionClass} mb-1`}\n            placeholder='Descripción breve del NTF...'\n            value={enteredDescription}\n            onChange={enteredDescriptionHandler}\n          />\n        </div>\n        <div className=\"col-md-4\">\n          <input\n            type='text'\n            className={`${rarityClass} mb-1`}\n            placeholder='Nº de serie. Ejem: #4 de 10, Único... '\n            value={enteredRarity}\n            onChange={enteredRarityHandler}\n          />\n        </div>\n        <div className=\"col-md-2\">\n        <label>Seleccione el tipo de archivo</label>\n        <select className={`${fileTypeClass} mb-1`} onChange={enteredFiletypeHandler} value={enteredFiletype}>\n                  <option value=\"null\">...</option>\n                  <option value=\"Imagen\">Imagen</option>\n                  <option value=\"MP4\">MP4</option>\n        </select>\n        </div>\n        <div className=\"col-md-2\">\n        <label>Imagen</label>\n          <input\n            type='file'\n            className={`${fileClass} mb-1`}\n            onChange={captureFile}\n          />\n        </div>\n        <div className=\"col-md-2\">\n          <label>Mp4</label>\n          <input\n            type='file'\n            className={`${fileClass2} mb-1`}\n            onChange={captureFile2}\n          />\n        </div>\n      </div>\n      <button type='submit' className='btn btn-lg btn-info text-white btn-block'>MINT</button>\n    </form>\n  );\n};\n\nexport default MintForm;","import React from 'react';\n\nconst Web3Context = React.createContext({\n  account: null,\n  networkId: null,\n  loadAccount: () => {},\n  loadNetworkId: () => {}\n});\n\nexport default Web3Context;","import React from 'react';\n\nconst CollectionContext = React.createContext({\n  contract: null,\n  totalSupply: null,\n  collection: [],\n  nftIsLoading: true,\n  loadContract: () => {},\n  loadTotalSupply: () => {},\n  loadCollection: () => {},\n  updateTotalSupply: () => {},\n  updateCollection: () => {},\n  updateOwner: () => {},\n  setNftIsLoading: () => {}\n});\n\nexport default CollectionContext;","import { useReducer } from 'react';\n\nimport Web3Context from './web3-context';\n\nconst defaultWeb3State = {\n  account: null,\n  networkId: null\n};\n\nconst web3Reducer = (state, action) => {\n  if(action.type === 'ACCOUNT') {\n    return {\n      account: action.account,\n      networkId: state.networkId\n    };\n  } \n  \n  if(action.type === 'NETWORKID') {\n    return {\n      account: state.account,\n      networkId: action.networkId\n    };\n  }\n  \n  return defaultWeb3State;\n};\n\nconst Web3Provider = props => {\n  const [web3State, dispatchWeb3Action] = useReducer(web3Reducer, defaultWeb3State);\n  \n  const loadAccountHandler = async(web3) => {\n    const accounts = await web3.eth.getAccounts();\n    const account = accounts[0];\n    dispatchWeb3Action({type: 'ACCOUNT', account: account});\n    return account;\n  };\n\n  const loadNetworkIdHandler = async(web3) => {\n    const networkId = await web3.eth.net.getId();\n    dispatchWeb3Action({type: 'NETWORKID', networkId: networkId});\n    return networkId;   \n  };\n  \n  const web3Context = {\n    account:web3State.account,\n    networkId: web3State.networkId,\n    loadAccount: loadAccountHandler,\n    loadNetworkId: loadNetworkIdHandler\n  };\n  \n  return (\n    <Web3Context.Provider value={web3Context}>\n      {props.children}\n    </Web3Context.Provider>\n  );\n};\n\nexport default Web3Provider;","import { useReducer } from 'react';\n\nimport CollectionContext from './collection-context';\n\nconst defaultCollectionState = {\n  contract: null,\n  totalSupply: null,\n  collection: [],\n  nftIsLoading: true\n};\n\nconst collectionReducer = (state, action) => {\n  if(action.type === 'CONTRACT') {    \n    return {\n      contract: action.contract,\n      totalSupply: state.totalSupply,\n      collection: state.collection,\n      nftIsLoading: state.nftIsLoading\n    };\n  } \n  \n  if(action.type === 'LOADSUPPLY') {\n    return {\n      contract: state.contract,\n      totalSupply: action.totalSupply,\n      collection: state.collection,\n      nftIsLoading: state.nftIsLoading\n    };\n  }\n\n  if(action.type === 'LOADCOLLECTION') {    \n    return {\n      contract: state.contract,\n      totalSupply: state.totalSupply,\n      collection: action.collection,\n      nftIsLoading: state.nftIsLoading\n    };\n  }\n\n  if(action.type === 'UPDATECOLLECTION') {    \n    const index = state.collection.findIndex(NFT => NFT.id === parseInt(action.NFT.id));\n    let collection = [];\n\n    if(index === -1) {\n      collection = [action.NFT, ...state.collection];\n    } else {\n      collection = [...state.collection];\n    }    \n\n    return {\n      contract: state.contract,\n      totalSupply: state.totalSupply,\n      collection: collection,\n      nftIsLoading: state.nftIsLoading\n    };\n  }\n\n  if(action.type === 'UPDATEOWNER') {\n    const index = state.collection.findIndex(NFT => NFT.id === parseInt(action.id));\n    let collection = [...state.collection];\n    collection[index].owner = action.newOwner;\n\n    return {\n      contract: state.contract,\n      totalSupply: state.totalSupply,\n      collection: collection,\n      nftIsLoading: state.nftIsLoading\n    };\n  }\n\n  if(action.type === 'LOADING') {    \n    return {\n      contract: state.contract,\n      totalSupply: state.totalSupply,\n      collection: state.collection,\n      nftIsLoading: action.loading\n    };\n  }\n  \n  return defaultCollectionState;\n};\n\nconst CollectionProvider = props => {\n  const [CollectionState, dispatchCollectionAction] = useReducer(collectionReducer, defaultCollectionState);\n  \n  const loadContractHandler = (web3, NFTCollection, deployedNetwork) => {\n    const contract = deployedNetwork ? new web3.eth.Contract(NFTCollection.abi, deployedNetwork.address): '';\n    dispatchCollectionAction({type: 'CONTRACT', contract: contract}); \n    return contract;\n  };\n\n  const loadTotalSupplyHandler = async(contract) => {\n    const totalSupply = await contract.methods.totalSupply().call();\n    dispatchCollectionAction({type: 'LOADSUPPLY', totalSupply: totalSupply});\n    return totalSupply;\n  };\n\n  const loadCollectionHandler = async(contract, totalSupply) => {\n    let collection = [];\n\n    for(let i = 0; i < totalSupply; i++) {\n      const hash = await contract.methods.tokenURIs(i).call();\n      try {\n        const response = await fetch(`https://ipfs.infura.io/ipfs/${hash}?clear`);\n        if(!response.ok) {\n          throw new Error('Something went wrong');\n        }\n\n        const metadata = await response.json();\n        const owner = await contract.methods.ownerOf(i + 1).call();\n\n        collection = [{\n          id: i + 1,\n          title: metadata.properties.name.description,\n          description: metadata.properties.description.description,\n          rarity: metadata.properties.rarity.description,\n          filetype: metadata.properties.filetype.description,\n          img: metadata.properties.image.description,\n          video: metadata.properties.video.description,\n          owner: owner\n        }, ...collection];\n        dispatchCollectionAction({type: 'LOADCOLLECTION', collection: collection});\n      }catch {\n        console.error('Something went wrong');\n      }\n    }\n    // dispatchCollectionAction({type: 'LOADCOLLECTION', collection: collection});     \n  };\n\n  const updateCollectionHandler = async(contract, id, owner) => {\n    let NFT;\n    const hash = await contract.methods.tokenURI(id).call();\n    //console.log('ahi esta ahi esta ', `https://ipfs.infura.io/ipfs/${hash}?clear`);\n    try {\n      const response = await fetch(`https://ipfs.infura.io/ipfs/${hash}?clear`);\n      if(!response.ok) {\n        throw new Error('Something went wrong');      }\n\n      const metadata = await response.json();      \n\n      NFT = {\n        id: parseInt(id),\n        title: metadata.properties.name.description,\n        description: metadata.properties.description.description,\n        rarity: metadata.properties.rarity.description,\n        filetype: metadata.properties.filetype.description,\n        img: metadata.properties.image.description,\n        video: metadata.properties.video.description,\n        owner: owner\n      };\n    }catch {\n      console.error('Something went wrong');\n    }\n    dispatchCollectionAction({type: 'UPDATECOLLECTION', NFT: NFT});\n  };\n\n  const updateOwnerHandler = (id, newOwner) => {\n    dispatchCollectionAction({type: 'UPDATEOWNER', id: id, newOwner: newOwner});\n  };\n\n  const setNftIsLoadingHandler = (loading) => {\n    dispatchCollectionAction({type: 'LOADING', loading: loading});\n  };\n\n  const collectionContext = {\n    contract: CollectionState.contract,\n    totalSupply: CollectionState.totalSupply,\n    collection: CollectionState.collection,\n    nftIsLoading:CollectionState.nftIsLoading,\n    loadContract: loadContractHandler,\n    loadTotalSupply: loadTotalSupplyHandler,\n    loadCollection: loadCollectionHandler,\n    updateCollection: updateCollectionHandler,\n    updateOwner: updateOwnerHandler,\n    setNftIsLoading: setNftIsLoadingHandler\n  };\n  \n  return (\n    <CollectionContext.Provider value={collectionContext}>\n      {props.children}\n    </CollectionContext.Provider>\n  );\n};\n\nexport default CollectionProvider;","import React from 'react';\n\nconst MarketplaceContext = React.createContext({\n  contract: null,\n  offerCount: null,\n  offers: [],\n  userFunds: null,\n  mktIsLoading: true,\n  loadContract: () => {},\n  loadOfferCount: () => {},\n  loadOffers: () => {},\n  updateOffer: () => {},\n  addOffer: () => {},\n  loadUserFunds: () => {},\n  setMktIsLoading: () => {}\n});\n\nexport default MarketplaceContext;","import { useReducer } from 'react';\n\nimport MarketplaceContext from './marketplace-context';\n\nconst defaultMarketplaceState = {\n  contract: null,\n  offerCount: null,\n  offers: [],\n  userFunds: null,\n  mktIsLoading: true\n};\n\nconst marketplaceReducer = (state, action) => {\n  if(action.type === 'CONTRACT') {    \n    return {\n      contract: action.contract,\n      offerCount: state.offerCount,\n      offers: state.offers,\n      userFunds: state.userFunds,\n      mktIsLoading: state.mktIsLoading\n    };\n  }\n\n  if(action.type === 'LOADOFFERCOUNT') {    \n    return {\n      contract: state.contract,\n      offerCount: action.offerCount,\n      offers: state.offers,\n      userFunds: state.userFunds,\n      mktIsLoading: state.mktIsLoading\n    };\n  }\n\n  if(action.type === 'LOADOFFERS') {    \n    return {\n      contract: state.contract,\n      offerCount: state.offerCount,\n      offers: action.offers,\n      userFunds: state.userFunds,\n      mktIsLoading: state.mktIsLoading\n    };\n  }\n\n  if(action.type === 'UPDATEOFFER') {    \n    const offers = state.offers.filter(offer => offer.offerId !== parseInt(action.offerId));\n\n    return {\n      contract: state.contract,\n      offerCount: state.offerCount,\n      offers: offers,\n      userFunds: state.userFunds,\n      mktIsLoading: state.mktIsLoading\n    };\n  }\n\n  if(action.type === 'ADDOFFER') {    \n    const index = state.offers.findIndex(offer => offer.offerId === parseInt(action.offer.offerId));\n    let offers = [];\n\n    if(index === -1) {\n      offers = [...state.offers, {\n        offerId: parseInt(action.offer.offerId),\n        id: parseInt(action.offer.id),\n        user: (action.offer.user),\n        price: parseInt(action.offer.price),\n        fulfilled: false,\n        cancelled: false\n      }];\n    } else {\n      offers = [...state.offers];\n    }    \n\n    return {\n      contract: state.contract,\n      offerCount: state.offerCount,\n      offers: offers,\n      userFunds: state.userFunds,\n      mktIsLoading: state.mktIsLoading\n    };\n  }\n\n  if(action.type === 'LOADFUNDS') {\n    return {\n      contract: state.contract,\n      offerCount: state.offerCount,\n      offers: state.offers,\n      userFunds: action.userFunds,\n      mktIsLoading: state.mktIsLoading\n    };\n  }\n\n  if(action.type === 'LOADING') {    \n    return {\n      contract: state.contract,\n      offerCount: state.offerCount,\n      offers: state.offers,\n      userFunds: state.userFunds,\n      mktIsLoading: action.loading\n    };\n  }\n  \n  return defaultMarketplaceState;\n};\n\nconst MarketplaceProvider = props => {\n  const [MarketplaceState, dispatchMarketplaceAction] = useReducer(marketplaceReducer, defaultMarketplaceState);\n  \n  const loadContractHandler = (web3, NFTMarketplace, deployedNetwork) => {\n    const contract = deployedNetwork ? new web3.eth.Contract(NFTMarketplace.abi, deployedNetwork.address): '';\n    dispatchMarketplaceAction({type: 'CONTRACT', contract: contract}); \n    return contract;\n  };\n\n  const loadOfferCountHandler = async(contract) => {\n    const offerCount = await contract.methods.offerCount().call();\n    dispatchMarketplaceAction({type: 'LOADOFFERCOUNT', offerCount: offerCount});\n    return offerCount;\n  };\n\n  const loadOffersHandler = async(contract, offerCount) => {\n    let offers = [];\n    for(let i = 0; i < offerCount; i++) {\n      const offer = await contract.methods.offers(i + 1).call();\n      offers.push(offer);\n    }\n    offers = offers\n    .map(offer => {\n      offer.offerId = parseInt(offer.offerId);\n      offer.id = parseInt(offer.id);\n      offer.price = parseInt(offer.price);\n      return offer;\n    })\n    .filter(offer => offer.fulfilled === false && offer.cancelled === false); \n    dispatchMarketplaceAction({type: 'LOADOFFERS', offers: offers});\n  };\n\n  const updateOfferHandler = (offerId) => {\n    dispatchMarketplaceAction({type: 'UPDATEOFFER', offerId: offerId});   \n  };\n\n  const addOfferHandler = (offer) => {\n    dispatchMarketplaceAction({type: 'ADDOFFER', offer: offer});   \n  };\n\n  const loadUserFundsHandler = async(contract, account) => {\n    const userFunds = await contract.methods.userFunds(account).call();\n    dispatchMarketplaceAction({type: 'LOADFUNDS', userFunds: userFunds});\n    return userFunds;\n  };\n\n  const setMktIsLoadingHandler = (loading) => {\n    dispatchMarketplaceAction({type: 'LOADING', loading: loading});\n  };\n\n  const marketplaceContext = {\n    contract: MarketplaceState.contract,\n    offerCount: MarketplaceState.offerCount,\n    offers: MarketplaceState.offers,\n    userFunds: MarketplaceState.userFunds,\n    mktIsLoading: MarketplaceState.mktIsLoading,\n    loadContract: loadContractHandler,\n    loadOfferCount: loadOfferCountHandler,\n    loadOffers: loadOffersHandler,\n    updateOffer: updateOfferHandler,\n    addOffer: addOfferHandler,\n    loadUserFunds: loadUserFundsHandler,\n    setMktIsLoading: setMktIsLoadingHandler\n  };\n  \n  return (\n    <MarketplaceContext.Provider value={marketplaceContext}>\n      {props.children}\n    </MarketplaceContext.Provider>\n  );\n};\n\nexport default MarketplaceProvider;","import Web3 from 'web3';\n\n// Web 3 connection\nconst web3 = window.ethereum ? new Web3(window.ethereum) : null; \n\nexport default web3;","export const DECIMALS = (10**18);\n\nexport const ether = wei => wei / DECIMALS;\n\nexport const formatPrice = (price) => {\n  const precision = 100; // Use 2 decimal places\n\n  price = ether(price);\n  price = Math.round(price * precision) / precision;\n   \n  return price;\n};","import { useContext, useState } from 'react';\nimport '../../app.css';\nimport Web3Context from '../../store/web3-context';\nimport MarketplaceContext from '../../store/marketplace-context';\nimport web3 from '../../connection/web3';\nimport { formatPrice } from '../../helpers/utils';\n\nconst Navbar = () => {\n  const [fundsLoading, setFundsLoading] = useState(false);\n  \n  const web3Ctx = useContext(Web3Context);\n  const marketplaceCtx = useContext(MarketplaceContext);\n  \n  const connectWalletHandler = async() => {\n    try {\n      // Request account access\n      await window.ethereum.request({ method: 'eth_requestAccounts' });\n    } catch(error) {\n      console.error(error);\n    }\n\n    // Load accounts\n    web3Ctx.loadAccount(web3);\n  };\n\n  const claimFundsHandler = () => {\n    marketplaceCtx.contract.methods.claimFunds().send({ from: web3Ctx.account })\n    .on('transactionHash', (hash) => {\n      setFundsLoading(true);\n    })\n    .on('error', (error) => {\n      window.alert('Something went wrong when pushing to the blockchain');\n      setFundsLoading(false);\n    });\n  };\n\n  // Event ClaimFunds subscription \n  marketplaceCtx.contract.events.ClaimFunds()\n  .on('data', (event) => {\n    marketplaceCtx.loadUserFunds(marketplaceCtx.contract, web3Ctx.account);\n    setFundsLoading(false);\n  })\n  .on('error', (error) => {\n    console.log(error);\n  });\n\n  let etherscanUrl;\n\n  if(web3Ctx.networkId === 3) {\n    etherscanUrl = 'https://ropsten.etherscan.io'\n  } else if(web3Ctx.networkId === 4) {\n    etherscanUrl = 'https://rinkeby.etherscan.io'\n  } else if(web3Ctx.networkId === 5) {\n    etherscanUrl = 'https://goerli.etherscan.io'\n  } else {\n    etherscanUrl = 'https://testnet.bscscan.com/'\n  }\n  \n  return (\n  <nav className=\"navbar navbar-dark bg-dark\">\n    <div class=\"container-fluid\">    \n        {web3Ctx.account && \n        <div className=\"navbar-brand\">\n          <h3 className=\"text-white\">¡Bienvenido Malandriner! </h3>\n        </div> }\n        <div className=\"navbar-toggler\">\n          {marketplaceCtx.userFunds > 0 && !fundsLoading &&\n            <button \n              type=\"button\" \n              className=\"btn btn-danger btn-block navbar-btn text-white\" \n              onClick={claimFundsHandler}\n            >          \n              {`RECOJA SU DINERO: ${formatPrice(marketplaceCtx.userFunds)} BNB`}\n            </button>}\n          {fundsLoading &&\n            <div class=\"d-flex justify-content-center text-info\">\n              <div class=\"spinner-border\" role=\"status\">\n                <span class=\"sr-only\"></span>\n              </div>\n          </div>}          \n        </div>\n        <div className=\"navbar-toggler\">\n          {web3Ctx.account && \n            <a \n              className=\"nav-link small\" \n              href=\"https://testnet.binance.org/faucet-smart\"\n              target=\"blank\"\n              rel=\"noopener noreferrer\">\n            <button \n              type=\"button\" \n              className=\"btn btn-success text-white\" \n            > \n              Faucet de BNBs\n            </button>\n            </a>}\n        </div>\n        <div className=\"navbar-toggler\">\n          {web3Ctx.account && \n            <a \n              className=\"nav-link small\" \n              href={`${etherscanUrl}/address/${web3Ctx.account}`}\n              target=\"blank\"\n              rel=\"noopener noreferrer\"\n            > {`${web3Ctx.account.substr(0,7)}...${web3Ctx.account.substr(web3Ctx.account.length - 7)}`}\n            </a>}\n          {!web3Ctx.account && \n            <button \n              type=\"button\" \n              className=\"btn btn-info text-white\" \n              onClick={connectWalletHandler} \n            > \n              Connect your wallet\n            </button>}\n        </div>\n    </div>  \n  </nav>\n  \n  );  \n};\n\nexport default Navbar;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAADAFBMVEVHcEzyui/zuS7yuS7//xfufw3zui75/wDyuS//rT3yui/yvjPWcw3oAADrsDHyuS7/vz/yuS/ZfzDzui/ttS7xuS7zui/0vTDzui7zui/suC7yuS7zui6/vzv1uS/zsjPusy7wuTD3vTDzuS7zuS71uy/0ui7xuS70ui/zuS7wty/0ui/1uy/vtyvyuC7yuS3vuC3zui/0ui72vS/zuy7yuS3yuS30ui7zvC/yuS7zui7yuS7zuy7xuC7yuS7yuS7zui70ui70uy/xuS70ui7zui7yui70ui72vS/zuS/0ui/zuy7yui7zuS7xuS3yuS7xuS3zuS3zuy7zui72vC7zuy71uS7wuC75vi/zui7zui/yuS/0ui/yui7xui7vuy3zuy73uzH0uy/0ujDyuS/xuC31uzD3vS/xtzH4vS/0ui3zui7zuy7zui30uy70ui70ui7zuS7xty/0uy/wuC7zuy/yuS/zuS/zuy/3vi/3wDD1szD4vzDzui7zui/utS77wzH5vy/yui7zuC/5xDH2vC78wjD7xTH7xDHxty31vC/uuS71tS7zui/////zujD///7//vzzuzHzuCnztybzuzL30XP0uy///v3zuzP//vv///330HPztyf3vDDzujH0xEz1xEvzuCjzuSz++e78wDD8wTD/xDH1xlD0vjz+9uP2vC/++vD5vzD3vTD+9uLzuSrzuCbztyj1xlHzuS387szzuCr0ui/7wDD/xTL1xE30vzz+wzH0wED989z6vzD1uy/++vH++ezzuCv//PP0wEH1xU/99d/99Nz878/30HLyuCfzvDPzui3ztyX++/L99eD+9N787sr//frzuSv1xFD/yDL/yzP/xjL+9+P99uH0vz78783yuCn0wUH+wjH++Ob88ND98M/1xU7+9+X9wjH4vjD98dP0w0v///z99Nv/xzL/yTL99N7/xTH98ND2vDD30HT30XTzvDT9xDH0wUX98dL98tf87cn30XX++O330HH++/PyuSr+xDH989gh6Ej4AAAAn3RSTlMA/fv8AgL8Af4D/gYDAQX6BP0E/RL9+Qjjwgvh+wQfChwUs8B1/o9l/k4v9Bgbp5E6+IL99S2phmbV0OcdQihxnTOnoMuvle3xN4C0+56K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\"","import { useContext, useRef, createRef } from 'react';\n\nimport web3 from '../../../connection/web3';\nimport Web3Context from '../../../store/web3-context';\nimport CollectionContext from '../../../store/collection-context';\nimport MarketplaceContext from '../../../store/marketplace-context';\nimport { formatPrice } from '../../../helpers/utils';\nimport eth from '../../../img/bnb.png';\n\nconst nftURL = (nft) => `https://ipfs.infura.io/ipfs/${nft.img}`\n\nconst NFTCollection = ({ showImages = true }) => {\n  const web3Ctx = useContext(Web3Context);\n  const collectionCtx = useContext(CollectionContext);\n  const marketplaceCtx = useContext(MarketplaceContext);\n\n  const priceRefs = useRef([]);\n  if (priceRefs.current.length !== collectionCtx.collection.length) {\n    priceRefs.current = Array(collectionCtx.collection.length).fill().map((_, i) => priceRefs.current[i] || createRef());\n  }\n  \n  const makeOfferHandler = (event, id, key) => {\n    event.preventDefault();\n\n    const enteredPrice = web3.utils.toWei(priceRefs.current[key].current.value, 'ether');\n\n    collectionCtx.contract.methods.approve(marketplaceCtx.contract.options.address, id).send({ from: web3Ctx.account })\n    .on('transactionHash', (hash) => {\n      marketplaceCtx.setMktIsLoading(true);\n    })\n    .on('receipt', (receipt) => {      \n      marketplaceCtx.contract.methods.makeOffer(id, enteredPrice).send({ from: web3Ctx.account })\n      .on('error', (error) => {\n        window.alert('Something went wrong when pushing to the blockchain');\n        marketplaceCtx.setMktIsLoading(false);\n      }); \n    });\n  };\n  \n  const buyHandler = (event) => {    \n    const buyIndex = parseInt(event.target.value);      \n    marketplaceCtx.contract.methods.fillOffer(marketplaceCtx.offers[buyIndex].offerId).send({ from: web3Ctx.account, value: marketplaceCtx.offers[buyIndex].price })\n    .on('transactionHash', (hash) => {\n      marketplaceCtx.setMktIsLoading(true);\n    })\n    .on('error', (error) => {\n      window.alert('Something went wrong when pushing to the blockchain');\n      marketplaceCtx.setMktIsLoading(false);\n    });            \n  };\n\n  const cancelHandler = (event) => {    \n    const cancelIndex = parseInt(event.target.value);\n    marketplaceCtx.contract.methods.cancelOffer(marketplaceCtx.offers[cancelIndex].offerId).send({ from: web3Ctx.account })\n    .on('transactionHash', (hash) => {\n      marketplaceCtx.setMktIsLoading(true);\n    })\n    .on('error', (error) => {\n      window.alert('Something went wrong when pushing to the blockchain');\n      marketplaceCtx.setMktIsLoading(false);\n    });    \n  };\n \n  return(\n    <div className=\"row text-center\">\n     \n      {collectionCtx.collection.map((NFT, key) => {\n        const index = marketplaceCtx.offers ? marketplaceCtx.offers.findIndex(offer => offer.id === NFT.id) : -1;\n        const owner = index === -1 ? NFT.owner : marketplaceCtx.offers[index].user;\n        const price = index !== -1 ? formatPrice(marketplaceCtx.offers[index].price).toFixed(2) : null;\n       console.log('objeto NFT', NFT); \n        return(\n        \n          <div key={key} className=\"col-xxl-2 col-xl-3 col-lg-4 col-md-6 py-3 px-3 \">\n            <div className=\"card border-info h-100\">\n              <small>NFT Id: {NFT.id}</small>\n              <small className=\"\">Rareza: {NFT.rarity}</small>\n              <div className={\"card-body\"}>       \n                <h3 className=\"card-title\">{NFT.title}</h3>\n                \n                <p className=\"\">{NFT.description}</p>\n              </div>\n              {showImages && NFT.filetype === \"Imagen\" &&\n                <img src={nftURL(NFT)} className=\"card-img-bottom\" alt={`${NFT.title}`} width=\"100%\" /> \n              }\n              {showImages && NFT.filetype === \"MP4\" &&\n                <video width=\"100%\" autoPlay loop muted>\n                  <source src={nftURL(NFT)} type=\"video/mp4\"/>\n                </video> \n              }\n              <label>Propietario:</label>\n              <p className=\"fw-light fs-6\"> {`${owner.substr(0,7)}...${owner.substr(owner.length - 7)}`}</p>\n              {index !== -1 ?\n                owner !== web3Ctx.account ?\n                  <div className=\"row\">\n                    <div className=\"d-grid gap-2 col-5 mx-auto\">\n                      <button onClick={buyHandler} value={index} className=\"btn btn-success\">BUY</button>\n                    </div>\n                    <div className=\"col-7 d-flex justify-content-end\">\n                      <img src={eth} width=\"25\" height=\"25\" className=\"align-center float-start\" alt=\"price icon\" ></img>                \n                      <p className=\"text-start\"><b>{`${price}`}</b></p>\n                    </div>\n                  </div> :\n                  <div className=\"row\">\n                    <div className=\"d-grid gap-2 col-5 mx-auto\">\n                      <button onClick={cancelHandler} value={index} className=\"btn btn-danger\">CANCEL</button>\n                    </div>\n                    <div className=\"col-7 d-flex justify-content-end\">\n                      <img src={eth} width=\"25\" height=\"25\" className=\"align-center float-start\" alt=\"price icon\"></img>                \n                      <p className=\"text-start\"><b>{`${price}`}</b></p>\n                    </div>\n                  </div> :\n                owner === web3Ctx.account ?              \n                  <form className=\"row g-2\" onSubmit={(e) => makeOfferHandler(e, NFT.id, key)}>                \n                    <div className=\"col-5 d-grid gap-2\">\n                      <button type=\"submit\" className=\"btn btn-secondary\">OFFER</button>\n                    </div>\n                    <div className=\"col-7\">\n                      <input\n                        type=\"number\"\n                        step=\"0.01\"\n                        placeholder=\"BNB...\"\n                        className=\"form-control\"\n                        ref={priceRefs.current[key]}\n                      />\n                    </div>                                  \n                  </form> :\n                  <p><br/></p>}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default NFTCollection;","const Spinner = () => {\n  return(\n    <div className=\"text-center mt-5\">\n      <div className=\"spinner-border text-info text-center\"></div>\n    </div>\n  );\n};\n\nexport default Spinner;","export default __webpack_public_path__ + \"static/media/logo2.33797b22.PNG\";","import { useContext  } from 'react';\n\nimport MintForm from './MintNFT/MintForm';\nimport NFTCollection from './NFTCollection/NFTCollection';\nimport CollectionContext from '../../store/collection-context';\nimport MarketplaceContext from '../../store/marketplace-context';\nimport Spinner from '../Layout/Spinner';\nimport logo from '../../img/logo2.PNG'\n\nconst Main = () => {\n  const collectionCtx = useContext(CollectionContext);\n  const marketplaceCtx = useContext(MarketplaceContext);\n  const collectionLoaded = collectionCtx.collection.length === parseInt(collectionCtx.totalSupply)\n  \n  return(\n    <div className=\"container-fluid mt-2\">\n      <div className=\"row\">\n        <main role=\"main\" className=\"col-lg-12 justify-content-center text-center\">\n          <div className=\"content mr-auto ml-auto\">\n            <img src={logo} alt=\"logo\" width=\"50%\" className=\"mb-2\"/>\n            {!collectionCtx.nftIsLoading && <MintForm />}\n            {collectionCtx.nftIsLoading && <Spinner />}\n          </div>\n        </main>\n      </div>\n      <hr/>\n      {!collectionLoaded && \n        <div className=\"d-flex align-items-center justify-content-center\">\n          <div className=\"spinner-border mr-5 pr-5\" role=\"status\" aria-hidden=\"true\"></div>\n          <strong>&nbsp;Buscando en el mercado de NFTs...{collectionCtx.collection.length}/{collectionCtx.totalSupply}</strong>\n        </div>\n      }\n      {!marketplaceCtx.mktIsLoading && <NFTCollection showImages={collectionLoaded} />}\n      {marketplaceCtx.mktIsLoading && <Spinner />}\n    </div>\n  );\n};\n\nexport default Main;","import React, { useContext, useEffect } from 'react';\nimport web3 from './connection/web3';\nimport Navbar from './components/Layout/Navbar';\nimport Main from './components/Content/Main';\nimport Web3Context from './store/web3-context';\nimport CollectionContext from './store/collection-context';\nimport MarketplaceContext from './store/marketplace-context'\nimport NFTCollection from './abis/BNBCollection.json';\nimport NFTMarketplace from './abis/NFTMarketplace.json';\n\nconst App = () => {\n  const web3Ctx = useContext(Web3Context);\n  const collectionCtx = useContext(CollectionContext);\n  const marketplaceCtx = useContext(MarketplaceContext);\n  \n  useEffect(() => {\n    // Check if the user has Metamask active\n    if(!web3) {\n      window.alert('Non-Ethereum browser detected. You should consider trying MetaMask!');\n      return;\n    }\n    \n    // Function to fetch all the blockchain data\n    const loadBlockchainData = async() => {\n      // Request accounts acccess if needed\n      try {\n        await window.ethereum.request({ method: 'eth_requestAccounts' });  \n      } catch(error) {\n        console.error(error);\n      }\n      \n      // Load account\n      const account = await web3Ctx.loadAccount(web3);\n\n      // Load Network ID\n      const networkId = await web3Ctx.loadNetworkId(web3);\n\n      // Load Contracts      \n      const nftDeployedNetwork = NFTCollection.networks[networkId];\n      const nftContract = collectionCtx.loadContract(web3, NFTCollection, nftDeployedNetwork);\n\n      const mktDeployedNetwork = NFTMarketplace.networks[networkId];\n      const mktContract = marketplaceCtx.loadContract(web3, NFTMarketplace, mktDeployedNetwork);\n\n      if(nftContract) {        \n        // Load total Supply\n        const totalSupply = await collectionCtx.loadTotalSupply(nftContract);\n        \n        // Load Collection\n        collectionCtx.loadCollection(nftContract, totalSupply);       \n\n        // Event subscription\n        nftContract.events.Transfer()\n        .on('data', (event) => {\n          collectionCtx.updateCollection(nftContract, event.returnValues.tokenId, event.returnValues.to);\n          collectionCtx.setNftIsLoading(false);\n        })\n        .on('error', (error) => {\n          console.log(error);\n        });\n        \n      } else {\n        window.alert('NFTCollection contract not deployed to detected network.')\n      }\n\n      if(mktContract) {\n        // Load offer count\n        const offerCount = await marketplaceCtx.loadOfferCount(mktContract);\n        \n        // Load offers\n        marketplaceCtx.loadOffers(mktContract, offerCount); \n        \n        // Load User Funds\n        account && marketplaceCtx.loadUserFunds(mktContract, account);\n\n        // Event OfferFilled subscription \n        mktContract.events.OfferFilled()\n        .on('data', (event) => {\n          marketplaceCtx.updateOffer(event.returnValues.offerId);\n          collectionCtx.updateOwner(event.returnValues.id, event.returnValues.newOwner);\n          marketplaceCtx.setMktIsLoading(false);\n        })\n        .on('error', (error) => {\n          console.log(error);\n        });\n\n        // Event Offer subscription \n        mktContract.events.Offer()\n        .on('data', (event) => {\n          marketplaceCtx.addOffer(event.returnValues);\n          marketplaceCtx.setMktIsLoading(false);\n        })\n        .on('error', (error) => {\n          console.log(error);\n        });\n\n        // Event offerCancelled subscription \n        mktContract.events.OfferCancelled()\n        .on('data', (event) => {\n          marketplaceCtx.updateOffer(event.returnValues.offerId);\n          collectionCtx.updateOwner(event.returnValues.id, event.returnValues.owner);\n          marketplaceCtx.setMktIsLoading(false);\n        })\n        .on('error', (error) => {\n          console.log(error);\n        });\n        \n      } else {\n        window.alert('Cambie la red que dispone en su Metamask a la testnet de Binance Smart Chain para poder interactuar con la Daap')\n      }\n\n      collectionCtx.setNftIsLoading(false);\n      marketplaceCtx.setMktIsLoading(false);\n\n      // Metamask Event Subscription - Account changed\n      window.ethereum.on('accountsChanged', (accounts) => {\n        web3Ctx.loadAccount(web3);\n        accounts[0] && marketplaceCtx.loadUserFunds(mktContract, accounts[0]);\n      });\n\n      // Metamask Event Subscription - Network changed\n      window.ethereum.on('chainChanged', (chainId) => {\n        window.location.reload();\n      });\n    };\n    \n    loadBlockchainData();\n  }, []);\n\n  const showNavbar = web3 && collectionCtx.contract && marketplaceCtx.contract;\n  const showContent = web3 && collectionCtx.contract && marketplaceCtx.contract && web3Ctx.account;\n  \n  return(\n    <React.Fragment>\n      {showNavbar && <Navbar />}\n      {showContent && <Main />}\n    </React.Fragment>\n  );\n};\n\nexport default App;","import ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nimport Web3Provider from './store/Web3Provider';\nimport CollectionProvider from './store/CollectionProvider';\nimport MarketplaceProvider from './store/MarketplaceProvider';\nimport App from './App';\n\nReactDOM.render(\n  <Web3Provider>\n    <CollectionProvider>\n      <MarketplaceProvider>\n        <App />\n      </MarketplaceProvider>\n    </CollectionProvider>\n  </Web3Provider>, \n  document.getElementById('root')\n);"],"sourceRoot":""}